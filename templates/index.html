<!DOCTYPE HTML>
<!--
	Photon by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>First Info Bénévola</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

	<!-- css -->
	<link rel="stylesheet" href="/static/assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="/static/assets/css/noscript.css" />
	</noscript>

</head>

<body class="is-preload">

	<!-- Header -->
	<section id="header">
		<div class="inner">
			<span class="icon solid major fa-hands-helping"></span> <!-- Icône changée pour symboliser le bénévolat -->
			<h1>Bienvenue sur <strong>First Info Bénévola</strong></h1>
			<p>Votre plateforme pour partager et découvrir des opportunités de bénévolat.<br />
				Contribuez à la communauté en publiant vos annonces !</p>
			<ul class="actions special">
				<li><a href="#publish" class="button scrolly">Publier une annonce</a></li>
			</ul>
		</div>
	</section>

	<!-- One - Section d'introduction -->
	<section id="one" class="main style1">
		<div class="container">
			<div class="row gtr-150">
				<div class="col-6 col-12-medium">
					<header class="major">
						<h2>Qu'est-ce que First Info Bénévola ?</h2>
					</header>
					<p>First Info Bénévola est une initiative dédiée à la mise en relation des associations et des
						bénévoles. Nous croyons en la force du partage d'informations pour amplifier l'impact positif de
						l'action bénévole. Découvrez des missions, proposez les vôtres, et faites partie d'une
						communauté engagée.</p>
				</div>
				<div class="col-6 col-12-medium imp-medium">
					<span class="image fit">
						<!-- Ici, vous pouvez mettre une image pertinente pour le bénévolat -->
						<img src="/static/images/pic01.jpg" alt="Personnes faisant du bénévolat" />
					</span>
				</div>
			</div>
		</div>
	</section>

	<!-- Publish Section - Nouvelle section pour le formulaire de publication -->
	<section id="publish" class="main style2 special">
		<div class="container">
			<header class="major">
				<h2>Publier une annonce de bénévolat</h2>
			</header>
			<p>Partagez une opportunité ou une information importante pour la communauté bénévole.</p>




			<!-- Formulaire de publication d'annonce -->



<form id="publication-form"> 
	<div class="row gtr-uniform gtr-50">

		<div class="col-12">
			<input type="text" name="titre" id="titre" placeholder="Titre de la publication" required />
		</div>

		<div class="col-12">
			<textarea name="description" id="description"
				placeholder="Description de l'opportunité ou contenu" rows="6"
				required></textarea>
		</div>

		<div class="col-12">
			<input type="text" name="lien" id="lien" placeholder="Lien officiel pour postuler / source" required />
		</div>

		<div class="col-12">
			<input type="text" name="contact" id="contact" placeholder="Contact (email / téléphone)" required />
		</div>

		<div class="col-12">
			<ul class="actions special">
				<li><button type="submit" class="primary">Publier</button></li>
				<li><input type="reset" value="Réinitialiser" /></li>
			</ul>
		</div>

	</div>
</form>

<p id="message" style="margin-top:10px; font-weight:bold;"></p>








		</div>
	</section>

	<!-- Three - Section d'exemples ou d'informations -->
	<section id="three" class="main style1 special">
		<div class="container">
			<header class="major">
				<h2>Nos Dernières Publications</h2>
			</header>
			<p>Découvrez les dernières opportunités et actualités partagées par la communauté.</p>
			<div class="row gtr-150">
				<div class="col-4 col-12-medium">
					<span class="image fit"><img src="/static/images/pic02.jpg" alt="" /></span>
					<h3>Mission d'aide aux sans-abri</h3>
					<p>Adipiscing a commodo ante nunc magna lorem et interdum mi ante nunc lobortis non amet vis sed
						volutpat et nascetur.</p>
					<ul class="actions special">
						<li><a href="#" class="button">Voir plus</a></li>
					</ul>
				</div>
				<div class="col-4 col-12-medium">
					<span class="image fit"><img src="/static/images/pic03.jpg" alt="" /></span>
					<h3>Collecte de fonds pour l'environnement</h3>
					<p>Adipiscing a commodo ante nunc magna lorem et interdum mi ante nunc lobortis non amet vis sed
						volutpat et nascetur.</p>
					<ul class="actions special">
						<li><a href="#" class="button">Voir plus</a></li>
					</ul>
				</div>
				<div class="col-4 col-12-medium">
					<span class="image fit"><img src="/static/images/pic04.jpg" alt="" /></span>
					<h3>Bénévolat pour l'alphabétisation</h3>
					<p>Adipiscing a commodo ante nunc magna lorem et interdum mi ante nunc lobortis non amet vis sed
						volutpat et nascetur.</p>
					<ul class="actions special">
						<li><a href="#" class="button">Voir plus</a></li>
					</ul>
				</div>
			</div>
		</div>
	</section>

	<!-- Footer -->
	<section id="footer">
		<div class="container">
			<header class="major">
				<h2>Prêt à agir ?</h2>
			</header>
			<p>Rejoignez la communauté First Info Bénévola dès aujourd'hui !</p>
			<ul class="actions special">
				<li><a href="#publish" class="button wide primary scrolly">Publier une annonce</a></li>
				<li><a href="#one" class="button wide scrolly">Découvrir les missions</a></li>
			</ul>
		</div>
		<ul class="icons">
			<li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
			<li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
			<li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
			<li><a href="#" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
		</ul>
		<ul class="copyright">
			<li>&copy; First Info Bénévola</li>
			<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
		</ul>
	</section>

	<!-- Scripts -->
	<script src="/static/assets/js/jquery.min.js"></script>
	<script src="/static/assets/js/jquery.scrolly.min.js"></script>
	<script src="/static/assets/js/browser.min.js"></script>
	<script src="/static/assets/js/breakpoints.min.js"></script>
	<script src="/static/assets/js/util.js"></script>
	<script src="/static/assets/js/main.js"></script>











<script>
const form = document.getElementById("publication-form");
const messageEl = document.getElementById("message");

form.addEventListener("submit", async (e) => {
    e.preventDefault();

    // Récupérer les valeurs
    const titre = document.getElementById("titre").value.trim();
    const description = document.getElementById("description").value.trim();
    const lien = document.getElementById("lien").value.trim();
    const contact = document.getElementById("contact").value.trim();

    // Validation côté front
    if (!titre) {
        messageEl.innerText = "⚠️ Veuillez saisir un titre";
        return;
    }

    if (!description) {
        messageEl.innerText = "⚠️ Veuillez saisir une description";
        return;
    }

    if (!lien) {
        messageEl.innerText = "⚠️ Veuillez saisir un lien pour postuler";
        return;
    }

    if (!lien.match(/^https?:\/\/.+/)) {
        messageEl.innerText = "⚠️ Le lien doit commencer par http:// ou https://";
        return;
    }

    if (!contact) {
        messageEl.innerText = "⚠️ Veuillez saisir un contact (email ou numéro)";
        return;
    }

    // Validation simple contact : email ou numéro
    const contactPattern = /^([+]?[\d]{7,15}|[\w.-]+@[\w.-]+\.\w{2,})$/;
    if (!contactPattern.test(contact)) {
        messageEl.innerText = "⚠️ Contact invalide : entrez un email ou un numéro valide";
        return;
    }

    // Préparer les données à envoyer
    const data = { titre, description, lien, contact };

    try {
        const response = await fetch("/api/publier-annonce", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        });

        const result = await response.json();

        if (response.ok) {
            messageEl.innerText = "✅ Annonce publiée avec succès !";
            form.reset();
        } else {
            messageEl.innerText = `❌ Erreur : ${result.detail || result.message}`;
        }
    } catch (err) {
        messageEl.innerText = "❌ Erreur serveur, réessaie plus tard";
        console.error(err);
    }
});
</script>










</body>

</html>